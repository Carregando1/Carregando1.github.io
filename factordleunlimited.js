var solutions = [1000,1001,1003,1005,1007,1008,1012,1014,1015
    ,1020,1022,1023,1024,1025,1026,1027,1029,1032,1034,1035,1036,1037,1040
    ,1044,1045,1050,1053,1054,1056,1058,1060,1062,1064,1065,1066,1067,1068
    ,1071,1072,1073,1075,1078,1079,1080,1081,1083,1085,1088,1089,1092,1095
    ,1098,1100,1102,1104,1105,1106,1107,1110,1113,1116,1118,1120,1121,1122
    ,1125,1127,1128,1131,1134,1136,1139,1140,1144,1147,1148,1150,1152,1155
    ,1156,1157,1159,1160,1161,1162,1164,1166,1168,1170,1173,1175,1176,1178
    ,1180,1183,1184,1185,1188,1189,1190,1196,1197,1200,1204,1206,1207,1209
    ,1210,1215,1216,1218,1219,1220,1221,1222,1224,1225,1230,1232,1235,1239
    ,1240,1241,1242,1245,1246,1247,1248,1250,1254,1258,1260,1261,1264,1265
    ,1269,1271,1272,1273,1274,1275,1276,1278,1280,1281,1287,1288,1290,1292
    ,1295,1296,1298,1300,1302,1305,1309,1311,1312,1314,1316,1320,1323,1325
    ,1326,1328,1330,1331,1332,1333,1334,1335,1340,1342,1343,1344,1349,1350
    ,1352,1353,1357,1358,1360,1363,1364,1365,1368,1369,1372,1375,1376,1377
    ,1378,1380,1386,1387,1392,1394,1395,1400,1403,1404,1406,1407,1408,1410
    ,1411,1416,1419,1420,1421,1422,1424,1425,1426,1428,1430,1431,1435,1440
    ,1443,1444,1445,1449,1450,1452,1455,1456,1457,1458,1460,1462,1463,1464
    ,1470,1472,1474,1475,1476,1479,1480,1482,1484,1485,1488,1491,1494,1495
    ,1496,1500,1501,1504,1505,1508,1512,1513,1517,1518,1519,1520,1521,1525
    ,1530,1533,1534,1536,1537,1539,1540,1541,1547,1548,1550,1551,1552,1554
    ,1558,1560,1562,1564,1566,1568,1573,1575,1577,1580,1581,1584,1586,1587
    ,1590,1591,1593,1595,1596,1598,1599,1600,1602,1606,1608,1610,1612,1615
    ,1617,1620,1624,1625,1628,1632,1633,1634,1638,1640,1643,1645,1647,1649
    ,1650,1652,1653,1656,1659,1660,1664,1665,1666,1672,1674,1675,1677,1679
    ,1680,1681,1682,1683,1690,1691,1692,1694,1696,1700,1701,1702,1704,1705
    ,1708,1710,1711,1715,1716,1720,1722,1725,1728,1729,1734,1736,1738,1739
    ,1740,1742,1743,1746,1748,1749,1750,1752,1755,1760,1763,1764,1767,1768
    ,1769,1770,1771,1775,1776,1780,1782,1785,1786,1792,1794,1798,1800,1802
    ,1804,1805,1806,1809,1813,1815,1817,1820,1824,1825,1826,1827,1829,1830
    ,1833,1836,1840,1843,1845,1846,1848,1849,1850,1855,1856,1859,1860,1862
    ,1863,1869,1870,1872,1875,1876,1880,1881,1885,1886,1887,1888,1890,1891
    ,1892,1896,1898,1900,1904,1908,1909,1911,1914,1917,1920,1922,1924,1925
    ,1927,1932,1935,1936,1938,1940,1943,1944,1947,1950,1952,1953,1955,1958
    ,1960,1961,1968,1971,1972,1974,1975,1976,1978,1980,1984,1988,1989,1992
    ,1995,1998,2000,2001,2002,2006,2009,2010,2013,2014,2015,2016,2021,2023
    ,2024,2025,2028,2030,2035,2037,2040,2044,2046,2047,2048,2050,2052,2054
    ,2057,2058,2059,2064,2065,2067,2068,2070,2072,2074,2075,2077,2079,2080
    ,2088,2090,2091,2093,2100,2106,2107,2108,2109,2112,2115,2116,2117,2120
    ,2124,2125,2128,2130,2132,2133,2134,2135,2136,2139,2142,2144,2145,2146
    ,2150,2156,2158,2160,2162,2166,2170,2173,2175,2176,2178,2183,2184,2185
    ,2187,2190,2193,2196,2197,2200,2201,2204,2205,2208,2209,2210,2211,2212
    ,2214,2220,2223,2225,2226,2231,2232,2233,2236,2240,2241,2242,2244,2250
    ,2254,2255,2256,2257,2261,2262,2263,2268,2272,2275,2277,2278,2279,2280
    ,2288,2291,2294,2295,2296,2299,2300,2301,2303,2304,2310,2312,2314,2318
    ,2320,2322,2324,2325,2328,2331,2332,2336,2337,2340,2343,2345,2346,2349
    ,2350,2352,2356,2360,2365,2366,2368,2370,2375,2376,2378,2379,2380,2385
    ,2387,2392,2394,2397,2400,2401,2403,2405,2407,2408,2409,2412,2414,2415
    ,2418,2419,2420,2425,2430,2431,2432,2436,2438,2440,2442,2444,2448,2449
    ,2450,2451,2457,2460,2464,2465,2470,2475,2478,2479,2480,2482,2484,2485
    ,2490,2491,2492,2494,2496,2499,2500,2501,2508,2511,2516,2520,2522,2523
    ,2527,2528,2530,2535,2537,2538,2541,2542,2544,2546,2548,2550,2552,2553
    ,2555,2556,2560,2562,2565,2573,2574,2576,2580,2581,2583,2584,2585,2590
    ,2592,2596,2597,2600,2601,2604,2607,2610,2613,2618,2619,2622,2623,2624
    ,2625,2627,2628,2632,2635,2639,2640,2645,2646,2650,2652,2655,2656,2660
    ,2662,2664,2665,2666,2668,2670,2673,2679,2680,2684,2686,2688,2691,2695
    ,2697,2698,2700,2701,2703,2704,2706,2709,2714,2716,2717,2720,2726,2728
    ,2730,2736,2737,2738,2739,2744,2745,2747,2750,2752,2754,2755,2756,2759
    ,2760,2765,2769,2772,2773,2774,2775,2783,2784,2788,2790,2793,2795,2800
    ,2805,2806,2808,2809,2812,2813,2814,2816,2820,2821,2822,2829,2832,2835
    ,2838,2840,2842,2844,2847,2848,2849,2850,2852,2856,2860,2862,2867,2870
    ,2871,2873,2875,2880,2881,2883,2886,2888,2890,2891,2898,2900,2904,2905
    ,2907,2910,2911,2912,2914,2915,2916,2920,2923,2924,2925,2926,2928,2937
    ,2940,2944,2945,2948,2950,2952,2958,2960,2961,2964,2967,2968,2970,2975
    ,2976,2982,2988,2989,2990,2992,2993,2997,3000,3002,3003,3007,3008,3009
    ,3010,3015,3016,3021,3024,3025,3026,3034,3036,3038,3040,3042,3045,3050
    ,3053,3055,3059,3060,3066,3068,3069,3071,3072,3074,3075,3078,3080,3081
    ,3082,3087,3094,3096,3100,3102,3104,3105,3108,3111,3115,3116,3120,3124
    ,3125,3127,3128,3132,3135,3136,3139,3145,3146,3149,3150,3154,3157,3159
    ,3160,3162,3168,3172,3174,3179,3180,3182,3185,3186,3190,3192,3195,3196
    ,3198,3200,3201,3204,3211,3212,3213,3216,3219,3220,3224,3225,3230,3233
    ,3234,3237,3239,3240,3243,3245,3248,3249,3250,3255,3256,3264,3266,3267
    ,3268,3276,3280,3283,3285,3286,3289,3290,3293,3294,3298,3300,3304,3306
    ,3311,3312,3315,3318,3320,3321,3325,3328,3330,3332,3335,3337,3339,3344
    ,3348,3350,3354,3355,3358,3360,3362,3363,3364,3366,3367,3375,3380,3381
    ,3382,3384,3388,3392,3393,3395,3397,3400,3402,3403,3404,3408,3410,3416
    ,3417,3420,3422,3430,3431,3432,3440,3441,3444,3445,3450,3451,3456,3458
    ,3465,3468,3471,3472,3476,3477,3478,3479,3480,3481,3483,3484,3485,3486
    ,3492,3496,3498,3500,3504,3509,3510,3515,3519,3520,3525,3526,3528,3534
    ,3536,3538,3540,3542,3549,3550,3551,3552,3553,3555,3560,3564,3565,3567
    ,3569,3570,3572,3575,3577,3584,3588,3589,3591,3596,3599,3600,3604,3608
    ,3610,3612,3618,3619,3621,3625,3626,3627,3630,3634,3640,3645,3648,3649
    ,3650,3652,3654,3655,3657,3658,3660,3663,3666,3672,3675,3680,3685,3686
    ,3689,3690,3692,3696,3698,3700,3703,3705,3710,3712,3713,3717,3718,3720
    ,3721,3723,3724,3726,3731,3735,3738,3740,3741,3744,3750,3751,3752,3757
    ,3760,3762,3763,3770,3772,3773,3774,3776,3780,3782,3783,3784,3792,3795
    ,3796,3800,3807,3808,3813,3816,3818,3819,3822,3825,3827,3828,3834,3835
    ,3840,3843,3844,3848,3850,3854,3857,3861,3864,3869,3870,3871,3872,3875
    ,3876,3880,3885,3886,3887,3888,3894,3895,3900,3901,3904,3905,3906,3910
    ,3913,3915,3916,3920,3922,3927,3933,3936,3942,3944,3948,3950,3952,3953
    ,3956,3960,3965,3968,3969,3971,3975,3976,3977,3978,3984,3990,3993,3995
    ,3996,3999,4000,4002,4004,4005,4012,4015,4018,4020,4025,4026,4028,4029
    ,4030,4032,4042,4046,4047,4048,4050,4056,4059,4060,4067,4070,4071,4074
    ,4080,4081,4085,4087,4088,4089,4092,4094,4095,4096,4100,4104,4107,4108
    ,4114,4116,4118,4123,4125,4128,4130,4131,4134,4136,4140,4144,4147,4148
    ,4150,4154,4158,4160,4161,4165,4171,4176,4180,4182,4183,4185,4186,4187
    ,4189,4199,4200,4205,4209,4212,4214,4216,4218,4221,4224,4225,4230,4232
    ,4233,4234,4235,4240,4248,4250,4255,4256,4257,4260,4263,4264,4266,4268
    ,4270,4272,4275,4277,4278,4284,4288,4290,4292,4293,4300,4301,4305,4307
    ,4312,4316,4320,4324,4329,4331,4332,4335,4340,4345,4346,4347,4350,4352
    ,4355,4356,4361,4365,4366,4368,4370,4371,4374,4375,4380,4386,4389,4392
    ,4394,4399,4400,4402,4403,4408,4410,4416,4418,4420,4422,4424,4425,4428
    ,4433,4437,4440,4446,4450,4452,4453,4455,4459,4462,4464,4465,4466,4472
    ,4473,4477,4480,4482,4484,4485,4488,4489,4495,4500,4503,4505,4508,4510
    ,4512,4514,4515,4522,4524,4526,4536,4539,4543,4544,4550,4551,4554,4556
    ,4557,4558,4559,4560,4563,4565,4575,4576,4582,4588,4590,4592,4598,4599
    ,4600,4602,4606,4608,4611,4615,4617,4620,4623,4624,4625,4628,4636,4640
    ,4641,4644,4648,4650,4653,4655,4656,4661,4662,4664,4669,4672,4674,4675
    ,4680,4686,4690,4692,4693,4697,4698,4700,4704,4712,4715,4717,4719,4720
    ,4725,4730,4731,4732,4736,4740,4743,4745,4750,4752,4753,4756,4757,4758
    ,4760,4761,4770,4773,4774,4779,4784,4785,4788,4794,4797,4800,4802,4805
    ,4806,4807,4810,4814,4816,4818,4819,4823,4824,4828,4830,4836,4838,4840
    ,4845,4850,4851,4860,4862,4864,4872,4875,4876,4879,4880,4884,4888,4891
    ,4895,4896,4897,4898,4899,4900,4901,4902,4913,4914,4920,4921,4928,4929
    ,4930,4935,4940,4941,4945,4947,4950,4956,4958,4959,4960,4961,4964,4968
    ,4970,4977,4980,4982,4984,4988,4991,4992,4995,4998,5000,5002,5005,5015
    ,5016,5022,5025,5031,5032,5035,5037,5040,5041,5043,5044,5046,5049,5054
    ,5056,5060,5063,5070,5073,5074,5075,5076,5082,5083,5084,5088,5092,5096
    ,5100,5103,5104,5106,5110,5112,5115,5117,5120,5124,5125,5130,5133,5135
    ,5141,5145,5146,5148,5152,5159,5160,5162,5166,5168,5170,5175,5180,5183
    ,5184,5185,5187,5192,5194,5200,5202,5203,5208,5214,5217,5220,5225,5226
    ,5229,5236,5238,5239,5244,5246,5247,5248,5250,5251,5254,5256,5264,5265
    ,5270,5278,5280,5289,5290,5291,5292,5293,5300,5301,5304,5307,5310,5312
    ,5313,5320,5324,5325,5328,5329,5330,5332,5335,5336,5340,5346,5355,5358
    ,5360,5365,5368,5369,5372,5375,5376,5382,5390,5394,5395,5396,5400,5402
    ,5405,5406,5408,5412,5415,5418,5423,5425,5427,5428,5429,5432,5434,5439
    ,5440,5445,5451,5452,5453,5456,5460,5467,5472,5474,5475,5476,5478,5481
    ,5487,5488,5490,5491,5494,5499,5500,5504,5508,5510,5512,5518,5520,5525
    ,5529,5530,5535,5538,5544,5546,5547,5548,5550,5551,5561,5565,5566,5568
    ,5576,5577,5580,5586,5589,5590,5593,5600,5605,5607,5609,5610,5612,5616
    ,5618,5621,5624,5625,5626,5628,5632,5635,5640,5642,5643,5644,5655,5658
    ,5661,5664,5670,5673,5676,5680,5681,5684,5687,5688,5694,5695,5696,5698
    ,5700,5704,5712,5719,5720,5723,5724,5727,5733,5734,5735,5740,5742,5746
    ,5750,5751,5760,5762,5766,5767,5772,5775,5776,5780,5781,5782,5785,5795
    ,5796,5797,5800,5805,5808,5810,5814,5819,5820,5822,5824,5828,5829,5830
    ,5831,5832,5840,5841,5846,5848,5850,5852,5856,5859,5863,5865,5874,5875
    ,5880,5883,5887,5888,5890,5893,5896,5900,5904,5913,5915,5916,5917,5920
    ,5922,5925,5928,5929,5934,5936,5940,5945,5950,5952,5957,5963,5964,5967
    ,5976,5978,5980,5984,5985,5986,5994,6000,6003,6004,6006,6014,6016,6018
    ,6020,6027,6030,6032,6035,6039,6042,6045,6048,6050,6052,6059,6061,6063
    ,6068,6069,6072,6075,6076,6080,6083,6084,6090,6095,6097,6100,6105,6106
    ,6110,6111,6118,6120,6125,6132,6136,6137,6138,6141,6142,6144,6148,6149
    ,6150,6156,6160,6162,6164,6171,6174,6175,6177,6188,6192,6195,6200,6201
    ,6204,6205,6208,6210,6216,6222,6225,6230,6231,6232,6235,6237,6240,6241
    ,6248,6250,6251,6253,6254,6256,6264,6270,6272,6273,6278,6279,6290,6292
    ,6293,6298,6300,6305,6307,6308,6314,6318,6319,6320,6321,6324,6325,6327
    ,6336,6344,6345,6348,6351,6355,6358,6360,6364,6365,6370,6372,6375,6380
    ,6384,6390,6391,6392,6396,6399,6400,6402,6405,6408,6409,6413,6417,6422
    ,6424,6426,6432,6435,6438,6440,6448,6450,6460,6461,6466,6468,6474,6475
    ,6478,6479,6480,6486,6490,6496,6497,6498,6499,6500,6510,6512,6517,6519
    ,6525,6528,6532,6534,6536,6545,6549,6552,6555,6557,6560,6561,6566,6570
    ,6572,6578,6579,6580,6586,6588,6591,6596,6600,6601,6603,6608,6612,6615
    ,6622,6624,6625,6627,6630,6633,6636,6640,6642,6643,6647,6650,6655,6656
    ,6660,6664,6665,6669,6670,6674,6675,6678,6688,6693,6696,6699,6700,6708
    ,6710,6715,6716,6720,6721,6723,6724,6726,6727,6728,6732,6734,6745,6750
    ,6760,6762,6764,6765,6768,6771,6776,6783,6784,6785,6786,6789,6790,6794
    ,6800,6804,6806,6808,6815,6816,6820,6825,6831,6832,6834,6837,6840,6844
    ,6845,6851,6853,6859,6860,6862,6864,6873,6875,6877,6880,6882,6885,6887
    ,6888,6889,6890,6897,6900,6902,6903,6909,6912,6916,6919,6923,6929,6930
    ,6935,6936,6942,6944,6952,6954,6956,6958,6960,6962,6966,6968,6970,6972
    ,6975,6984,6992,6993,6996,7000,7007,7008,7011,7015,7018,7020,7021,7029
    ,7030,7031,7035,7038,7040,7047,7049,7050,7052,7055,7056,7068,7072,7076
    ,7080,7081,7084,7095,7098,7100,7102,7104,7105,7106,7110,7120,7125,7128
    ,7130,7134,7137,7138,7139,7140,7144,7150,7154,7155,7161,7163,7168,7175
    ,7176,7178,7182,7189,7191,7192,7198,7200,7203,7208,7209,7215,7216,7220
    ,7221,7224,7225,7227,7236,7238,7242,7245,7250,7252,7254,7257,7259,7260
    ,7267,7268,7275,7280,7285,7290,7293,7296,7298,7300,7304,7308,7310,7314
    ,7315,7316,7320,7326,7332,7337,7344,7347,7350,7353,7360,7370,7371,7372
    ,7375,7378,7380,7381,7384,7387,7392,7395,7396,7400,7406,7410,7420,7424
    ,7425,7426,7429,7434,7436,7437,7440,7442,7446,7448,7452,7455,7462,7469
    ,7470,7473,7475,7476,7480,7482,7488,7497,7500,7502,7503,7504,7505,7511
    ,7514,7520,7524,7525,7526,7533,7540,7544,7546,7548,7552,7553,7560,7564
    ,7565,7566,7567,7568,7569,7579,7581,7584,7585,7590,7592,7595,7600,7605
    ,7611,7614,7616,7623,7625,7626,7632,7636,7638,7644,7650,7654,7656,7657
    ,7659,7663,7665,7667,7668,7670,7680,7685,7686,7688,7695,7696,7700,7705
    ,7708,7714,7719,7722,7728,7733,7735,7738,7740,7742,7743,7744,7749,7750
    ,7752,7755,7760,7770,7772,7774,7776,7788,7790,7791,7800,7802,7803,7808
    ,7810,7812,7820,7821,7826,7830,7832,7839,7840,7843,7844,7847,7854,7857
    ,7865,7866,7869,7872,7875,7881,7884,7885,7888,7889,7896,7900,7904,7905
    ,7906,7912,7917,7920,7921,7930,7935,7936,7938,7942,7943,7950,7952,7954
    ,7955,7956,7965,7968,7973,7975,7980,7986,7990,7992,7995,7998,8000,8004
    ,8008,8010,8019,8024,8029,8030,8036,8037,8040,8041,8050,8051,8052,8056
    ,8058,8060,8064,8073,8075,8084,8085,8091,8092,8094,8096,8099,8100,8103
    ,8107,8109,8112,8113,8118,8120,8125,8127,8134,8140,8142,8148,8151,8160
    ,8162,8165,8170,8174,8176,8177,8178,8184,8188,8190,8192,8200,8208,8211
    ,8214,8215,8216,8217,8225,8228,8232,8235,8236,8241,8245,8246,8250,8256
    ,8260,8262,8265,8268,8272,8277,8280,8281,8288,8294,8295,8296,8300,8303
    ,8307,8308,8316,8319,8320,8322,8323,8325,8330,8342,8349,8352,8360,8364
    ,8366,8370,8372,8374,8375,8378,8379,8381,8385,8395,8398,8400,8405,8410
    ,8415,8418,8424,8427,8428,8432,8436,8437,8439,8442,8448,8449,8450,8455
    ,8460,8463,8464,8466,8468,8470,8480,8487,8496,8500,8505,8510,8512,8514
    ,8520,8525,8526,8528,8532,8533,8536,8540,8541,8544,8547,8550,8554,8555
    ,8556,8568,8569,8575,8576,8580,8584,8586,8591,8600,8601,8602,8610,8613
    ,8614,8619,8624,8625,8632,8633,8640,8643,8645,8648,8649,8658,8662,8664
    ,8670,8671,8673,8680,8687,8690,8692,8694,8695,8700,8704,8710,8712,8715
    ,8721,8722,8723,8729,8730,8732,8733,8736,8740,8742,8745,8748,8750,8760
    ,8769,8772,8775,8778,8784,8788,8789,8798,8800,8804,8806,8811,8815,8816
    ,8820,8827,8832,8833,8835,8836,8840,8844,8845,8848,8850,8855,8856,8866
    ,8874,8875,8880,8883,8892,8897,8900,8901,8904,8906,8910,8911,8918,8924
    ,8925,8928,8930,8932,8944,8946,8954,8957,8959,8960,8964,8967,8968,8970
    ,8976,8978,8979,8987,8990,8991,8993,9000,9006,9009,9010,9016,9020,9021
    ,9024,9025,9027,9028,9030,9044,9045,9048,9052,9061,9063,9065,9072,9075
    ,9078,9085,9086,9088,9100,9102,9108,9112,9114,9116,9118,9120,9125,9126
    ,9130,9135,9139,9145,9150,9152,9159,9163,9164,9165,9176,9177,9180,9184
    ,9196,9198,9200,9204,9207,9212,9213,9215,9216,9222,9225,9230,9234,9240
    ,9243,9245,9246,9248,9250,9251,9256,9261,9269,9272,9275,9280,9282,9288
    ,9295,9296,9300,9306,9310,9312,9315,9317,9322,9324,9328,9331,9333,9338
    ,9344,9345,9348,9350,9360,9361,9367,9372,9375,9380,9381,9384,9386,9394
    ,9396,9400,9401,9405,9408,9409,9417,9424,9425,9430,9434,9435,9438,9440
    ,9443,9447,9450,9455,9460,9462,9464,9471,9472,9477,9480,9486,9490,9499
    ,9500,9503,9504,9506,9512,9514,9516,9520,9522,9537,9540,9541,9545,9546
    ,9548,9555,9558,9559,9568,9570,9576,9581,9583,9585,9588,9594,9600,9603
    ,9604,9610,9612,9614,9620,9625,9628,9632,9633,9635,9636,9638,9639,9646
    ,9648,9656,9657,9660,9672,9675,9676,9680,9690,9699,9700,9702,9709,9711
    ,9715,9717,9720,9724,9728,9729,9735,9744,9747,9750,9752,9758,9760,9765
    ,9768,9775,9776,9782,9790,9792,9794,9796,9798,9800,9801,9802,9804,9805
    ,9821,9823,9826,9828,9840,9842,9849,9855,9856,9858,9860,9867,9870,9875
    ,9877,9879,9880,9882,9889,9890,9894,9900,9911,9912,9916,9918,9920,9922
    ,9928,9933,9936,9940,9945,9947,9954,9960,9963,9964,9968,9971,9975,9976
    ,9982,9984,9990,9996];
var solution = solutions[Math.floor(Math.random()*3051)];
var guess = [];
var guesses = 0;
var complete = false;
var res;
function reset(hard = false) {
  if (hard) {
    localStorage.removeItem("solve1");
  }
  localStorage.removeItem("solut");
  solution = solutions[Math.floor(Math.random()*3051)];
  localStorage.setItem("guesses", "");
  localStorage.setItem("status", "");
  for (var i = 1; i <= 80; i++) {
    document.getElementById('m'+i).style.color='black';
    document.getElementById('m'+i).style.backgroundColor='white';
    document.getElementById('m'+i).innerHTML='';
  }
  document.getElementById('warning').innerHTML='&nbsp;';
  guesses = 0;
  complete = false;
  onload();
}
function convert(a) {
  if (a == 3) {
    return 'rgb(0,100,250)';
  } else if (a == 2) {
    return 'rgb(0,175,0)';
  } else if (a == 1) {
    return 'rgb(200,200,0)';
  } else {
    return 'rgb(150,150,150)';
  }
}
if (localStorage.getItem("solve1")  == null) {
  localStorage.setItem("solve1", 0);
  localStorage.setItem("solve2", 0);
  localStorage.setItem("solve3", 0);
  localStorage.setItem("solve4", 0);
  localStorage.setItem("solve5", 0);
  localStorage.setItem("solve6", 0);
  localStorage.setItem("solve7", 0);
  localStorage.setItem("solve8", 0);
  localStorage.setItem("solve9", 0);
}
document.getElementById("all").addEventListener("keyup", detect);
function onload() {
  if (localStorage.getItem("solut") == null) {
    localStorage.setItem("solut", solution);
  }
  solution = localStorage.getItem("solut")
  for (var i = 1; i <= 80; i++) {
    document.getElementById('m'+i).style.color='black';
  }
  for (var i = 0; i < localStorage.getItem("guesses").length/4; i++) {
    guesses = i;
    guess = [localStorage.getItem("guesses")[i*4],localStorage.getItem("guesses")[i*4+1],localStorage.getItem("guesses")[i*4+2],localStorage.getItem("guesses")[i*4+3]];
    update(1);
    update(2);
    update(3);
    update(4);
    guess = [];
  }
  for (var i = 0; i < localStorage.getItem("status").length; i++) {
    document.getElementById('m'+(i+1)).style.backgroundColor=convert(localStorage.getItem("status")[i]);
    document.getElementById('m'+(i+1)).style.color='white';
    if (localStorage.getItem("status")[i] == 3) {
      complete = true;
      document.getElementById('warning').innerHTML='You won in '+(guesses+1)+' guesses! Click <a onclick=reset()>here</a> to play again.'
    }
  }
  if (localStorage.getItem("guesses").length != 0){
    guesses++;
  }
  document.getElementById('title').innerHTML = "Factordle Unlimited (<a onclick=tutorial()>How To Play</a> | <a onclick=stats()>View Your Statistics</a>)";
  if (guesses == 8) {
    document.getElementById('warning').innerHTML='You lost. The number was '+solution+".  Click <a onclick=reset()>here</a> to play again.";
  }
}
function detect(e) {
  if (guesses < 8 && !(complete)) {
    document.getElementById('warning').innerHTML='&nbsp;';
  if (e.key == "Enter") {
    push(guess);
  }
  if (e.key == "Backspace") {
    if (guess.length > 0) { 
      guess.pop();
      update(-(guess.length + 1));
    }
  }
  if (e.key == "0" || e.key == "1" || e.key == "2" || e.key == "3" || e.key == "4" || e.key == "5" || e.key == "6" || e.key == "7" || e.key == "8" || e.key == "9") {
    if (guess.length == 0 && e.key == '0') {
      document.getElementById('warning').innerHTML="Guesses must be within 1000 and 9999";
    } else {
    if (guess.length <= 3) {
      guess.push(parseInt(e.key));
      update(guess.length);
    }
    }
  }
  }
}
function d(e) {
  if (guesses < 8 && !(complete)) {
    document.getElementById('warning').innerHTML="&nbsp;";
  if (e == 10) {
    push(guess);
  }
  if (e == -1) {
    if (guess.length > 0) { 
      guess.pop();
      update(-(guess.length + 1));
    }
  }
  if (e == 0 || e == 1 || e == 2 || e == 3 || e == 4 || e == 5 || e == 6 || e == 7 || e == 8 || e == 9) {
    if (guess.length == 0 && e == 0) {
      document.getElementById('warning').innerHTML="Guesses must be within 1000 and 9999";
    } else {
    if (guess.length <= 3) {
      guess.push(e);
      update(guess.length);
    }
    }
  }
  }
}
function push(a) {
  if (a.length != 4) {
    document.getElementById('warning').innerHTML='Guess must be 4 digits';
    return;
  }
  if ((1000*a[0]+100*a[1]+10*a[2]+a[3]) == solution) {
    localStorage.setItem("status", localStorage.getItem("status") + "3333333333");
    for (i = 1; i < 11; i++) {
    document.getElementById('m'+(guesses*10+i)).style.backgroundColor = "rgb(0,100,250)";
    document.getElementById('m'+(guesses*10+i)).style.color = "white";
    }
    complete = true;
    document.getElementById('warning').innerHTML='You won in '+(guesses+1)+' guesses!  Click <a onclick=reset()>here</a> to play again.'
    localStorage.setItem('solve'+((guesses+1)), parseInt(localStorage.getItem('solve'+((guesses+1)))) + 1);
  } else {
  for (i = 1; i < 11; i++) {
    document.getElementById('m'+(guesses*10+i)).innerHTML = parseInt(document.getElementById('m'+(guesses*10+i)).innerHTML);
    localStorage.setItem("status", localStorage.getItem("status") + euclid(solution, parseInt(document.getElementById('m'+(guesses*10+i)).innerHTML))[1]);
    document.getElementById('m'+(guesses*10+i)).style.backgroundColor = euclid(solution, parseInt(document.getElementById('m'+(guesses*10+i)).innerHTML))[0];
    document.getElementById('m'+(guesses*10+i)).style.color = "white";
  }
  }
  guess = [];
  guesses++;
  localStorage.setItem("guesses", localStorage.getItem("guesses") + ((1000*a[0]+100*a[1]+10*a[2]+a[3])).toString());
  if (guesses == 8) {
    document.getElementById('warning').innerHTML='You lost. The number was '+solution+".  Click <a onclick=reset()>here</a> to play again.";
    localStorage.setItem('solve9', parseInt(localStorage.getItem('solve9')) + 1);
  }
}
function euclid(a,b) {
  if (a == b) {
    throw new Error("Impossible");
  }
  if (a%b == 0 || b == 1) {
    return ['rgb(0,175,0)','2'];
  }
  if (b == 0) {
    return ['rgb(150,150,150)','0'];
  }
  while (a != 0 && b != 0) {
    if (a < b) {
      b = Math.max(a,b)%Math.min(a,b);
    } else {
      a = Math.max(a,b)%Math.min(a,b);
    }
  }
  if (a + b == 1) {
    return ['rgb(150,150,150)','0'];
  }
  return ['rgb(200,200,0)','1'];
}
function update(a) {
  if (a == 1) {
    document.getElementById('m'+(guesses*10+1)).innerHTML += guess[0];
    document.getElementById('m'+(guesses*10+5)).innerHTML += guess[0];
    document.getElementById('m'+(guesses*10+8)).innerHTML += guess[0];
    document.getElementById('m'+(guesses*10+10)).innerHTML += guess[0];
  } else if (a == 2) {
    document.getElementById('m'+(guesses*10+2)).innerHTML += guess[1];
    document.getElementById('m'+(guesses*10+5)).innerHTML += guess[1];
    document.getElementById('m'+(guesses*10+6)).innerHTML += guess[1];
    document.getElementById('m'+(guesses*10+8)).innerHTML += guess[1];
    document.getElementById('m'+(guesses*10+9)).innerHTML += guess[1];
    document.getElementById('m'+(guesses*10+10)).innerHTML += guess[1];
  } else if (a == 3) {
    document.getElementById('m'+(guesses*10+3)).innerHTML += guess[2];
    document.getElementById('m'+(guesses*10+6)).innerHTML += guess[2];
    document.getElementById('m'+(guesses*10+7)).innerHTML += guess[2];
    document.getElementById('m'+(guesses*10+8)).innerHTML += guess[2];
    document.getElementById('m'+(guesses*10+9)).innerHTML += guess[2];
    document.getElementById('m'+(guesses*10+10)).innerHTML += guess[2];
  } else if (a == 4) {
    document.getElementById('m'+(guesses*10+4)).innerHTML += guess[3];
    document.getElementById('m'+(guesses*10+7)).innerHTML += guess[3];
    document.getElementById('m'+(guesses*10+9)).innerHTML += guess[3];
    document.getElementById('m'+(guesses*10+10)).innerHTML += guess[3];
  } else if (a == -1) {
    document.getElementById('m'+(guesses*10+1)).innerHTML = document.getElementById('m'+(guesses*10+1)).innerHTML.slice(0,-1);
    document.getElementById('m'+(guesses*10+5)).innerHTML = document.getElementById('m'+(guesses*10+5)).innerHTML.slice(0,-1);
    document.getElementById('m'+(guesses*10+8)).innerHTML = document.getElementById('m'+(guesses*10+8)).innerHTML.slice(0,-1);
    document.getElementById('m'+(guesses*10+10)).innerHTML = document.getElementById('m'+(guesses*10+10)).innerHTML.slice(0,-1);
  } else if (a == -2) {
    document.getElementById('m'+(guesses*10+2)).innerHTML = document.getElementById('m'+(guesses*10+2)).innerHTML.slice(0,-1);
    document.getElementById('m'+(guesses*10+5)).innerHTML = document.getElementById('m'+(guesses*10+5)).innerHTML.slice(0,-1);
    document.getElementById('m'+(guesses*10+6)).innerHTML = document.getElementById('m'+(guesses*10+6)).innerHTML.slice(0,-1);
    document.getElementById('m'+(guesses*10+8)).innerHTML = document.getElementById('m'+(guesses*10+8)).innerHTML.slice(0,-1);
    document.getElementById('m'+(guesses*10+9)).innerHTML = document.getElementById('m'+(guesses*10+9)).innerHTML.slice(0,-1);
    document.getElementById('m'+(guesses*10+10)).innerHTML = document.getElementById('m'+(guesses*10+10)).innerHTML.slice(0,-1);
  } else if (a == -3) {
    document.getElementById('m'+(guesses*10+3)).innerHTML = document.getElementById('m'+(guesses*10+3)).innerHTML.slice(0,-1);
    document.getElementById('m'+(guesses*10+6)).innerHTML = document.getElementById('m'+(guesses*10+6)).innerHTML.slice(0,-1);
    document.getElementById('m'+(guesses*10+7)).innerHTML = document.getElementById('m'+(guesses*10+7)).innerHTML.slice(0,-1);
    document.getElementById('m'+(guesses*10+8)).innerHTML = document.getElementById('m'+(guesses*10+8)).innerHTML.slice(0,-1);
    document.getElementById('m'+(guesses*10+9)).innerHTML = document.getElementById('m'+(guesses*10+9)).innerHTML.slice(0,-1);
    document.getElementById('m'+(guesses*10+10)).innerHTML = document.getElementById('m'+(guesses*10+10)).innerHTML.slice(0,-1);
  } else if (a == -4) {
    document.getElementById('m'+(guesses*10+4)).innerHTML = document.getElementById('m'+(guesses*10+4)).innerHTML.slice(0,-1);
    document.getElementById('m'+(guesses*10+7)).innerHTML = document.getElementById('m'+(guesses*10+7)).innerHTML.slice(0,-1);
    document.getElementById('m'+(guesses*10+9)).innerHTML = document.getElementById('m'+(guesses*10+9)).innerHTML.slice(0,-1);
    document.getElementById('m'+(guesses*10+10)).innerHTML = document.getElementById('m'+(guesses*10+10)).innerHTML.slice(0,-1);
  }
}
function tutorial() {
  document.getElementById('tutorial').innerHTML="<p id='ttitle'>How To Play Factordle (<a onclick=closetutorial()>Close Tutorial</a>)</p><p id='tp1'>Factordle is a math-based Wordle-style game where you guess a target number between 1000 and 9999 within 8 tries. The target number is guaranteed to not contain any prime factors greater than 100.</p><p id='tp2'>After you input your four-digit guess, each of the numbers in the 10 boxes will give you information on the factors of the target number. An example guess of 1250 is shown below, where the target number is 1164.</p><hr><div id='example'><div class='g1div'><div class='g1' id='e1'>1</div><div class='g1' id='e2'>2</div><div class='g1' id='e3'>5</div><div class='g1' id='e4'>0</div></div><div class='g2div'><div class='g2' id='e5'>12</div><div class='g2' id='e6'>25</div><div class='g2' id='e7'>50</div></div><div class='g3div'><div class='g3' id='e8'>125</div><div class='g3' id='e9'>250</div></div><div class='g4div'><div class='g4' id='e10'>1250</div></div></div><p>The <span id='green'>green</span> boxes mean that the number inside the box is a factor of the target number. For example, 2 is a factor of 1164.</p> <p>The <span id='yellow'>yellow</span> boxes mean that the number inside the box shares a common factor with the target number. For example, 50 and 1164 share the common factor 2.</p><p>The <span id='gray'>gray</span> boxes mean that the number inside the box has no common factor with the target number. For example, 125 and 1164 have no common factors.</p><hr><p>Once your guess matches the target number, all the boxes will turn blue, meaning that you have won.</p>"
  document.getElementById('tutorial').style.border = "2px solid rgb(150,150,150)";
}
function stats() {
  var total = parseInt(localStorage.getItem('solve1')) + parseInt(localStorage.getItem('solve2')) + parseInt(localStorage.getItem('solve3')) + parseInt(localStorage.getItem('solve4')) + parseInt(localStorage.getItem('solve5')) + parseInt(localStorage.getItem('solve6')) + parseInt(localStorage.getItem('solve7')) + parseInt(localStorage.getItem('solve8')) + parseInt(localStorage.getItem('solve9'));
  var temp = [((total-parseInt(localStorage.getItem('solve9')))*100/total).toString().slice(0,3), (parseInt(localStorage.getItem('solve1'))*100/total).toString().slice(0,3), (parseInt(localStorage.getItem('solve2'))*100/total).toString().slice(0,3), (parseInt(localStorage.getItem('solve3'))*100/total).toString().slice(0,3), (parseInt(localStorage.getItem('solve4'))*100/total).toString().slice(0,3), (parseInt(localStorage.getItem('solve5'))*100/total).toString().slice(0,3), (parseInt(localStorage.getItem('solve6'))*100/total).toString().slice(0,3), (parseInt(localStorage.getItem('solve7'))*100/total).toString().slice(0,3), (parseInt(localStorage.getItem('solve8'))*100/total).toString().slice(0,3), (parseInt(localStorage.getItem('solve9'))*100/total).toString().slice(0,3)];
  for (var i = 0; i < 10; i++) {
    if (temp[i] == 'NaN') {
      temp[i] = "0";
    }
  }
  document.getElementById('tutorial').innerHTML="<p id='ttitle'>Your Factordle Statistics (<a onclick=closetutorial()>Close Statistics Window</a>)</p><p id='tp1'>You have played <span class='px'>"+total+"</span> total Factordles, and won <span class='px'>"+temp[0]+"%</span> of them.</p><p>Breakdown of your solves by guesses used:</p><p>1/8: <span class='px'>"+localStorage.getItem('solve1')+"</span> ("+temp[1]+"%)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2/8: <span class='px'>"+localStorage.getItem('solve2')+"</span> ("+temp[2]+"%)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3/8: <span class='px'>"+localStorage.getItem('solve3')+"</span> ("+temp[3]+"%)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4/8: <span class='px'>"+localStorage.getItem('solve4')+"</span> ("+temp[4]+"%)</p><p>5/8: <span class='px'>"+localStorage.getItem('solve5')+"</span> ("+temp[5]+"%)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6/8: <span class='px'>"+localStorage.getItem('solve6')+"</span> ("+temp[6]+"%)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;7/8: <span class='px'>"+localStorage.getItem('solve7')+"</span> ("+temp[7]+"%)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8/8: <span class='px'>"+localStorage.getItem('solve8')+"</span> ("+temp[8]+"%)</p><p>X/8: <span class='px'>"+localStorage.getItem('solve9')+"</span> ("+temp[9]+"%)</p>"
  document.getElementById('tutorial').style.border = "2px solid rgb(150,150,150)";
}
function closetutorial() {
  document.getElementById('tutorial').innerHTML="";
  document.getElementById('tutorial').style.border = "none";
}
